HEAP

–û—Ç–ª–∏—á–Ω–æ ‚Äî —ç—Ç–æ –∫–∞–∫ —Ä–∞–∑ —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ, –∏ –µ—Å–ª–∏ —Ç—ã –ø–æ–π–º—ë—à—å –º–µ—Ö–∞–Ω–∏–∫—É –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (push) –∏ —É–¥–∞–ª–µ–Ω–∏—è (pop) –≤ –∫—É—á–µ, —Ç–æ –ø–æ–π–º—ë—à—å –∏ –ø–æ—á–µ–º—É O(log n).

–†–∞–∑–±–µ—Ä—ë–º –≤—Å—ë –ø–æ —à–∞–≥–∞–º, —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ —Å—Ö–µ–º–∞–º–∏ üëá

‚∏ª

üöÄ –ß—Ç–æ —Ç–∞–∫–æ–µ ‚Äú–∫—É—á–∞‚Äù (heap)

–ö—É—á–∞ ‚Äî —ç—Ç–æ –±–∏–Ω–∞—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ, –≤ –∫–æ—Ç–æ—Ä–æ–º:

	‚Ä¢ –ö–∞–∂–¥—ã–π —Ä–æ–¥–∏—Ç–µ–ª—å –±–æ–ª—å—à–µ (–∏–ª–∏ –º–µ–Ω—å—à–µ) —Å–≤–æ–∏—Ö –¥–µ—Ç–µ–π
	  ‚Üí —ç—Ç–æ –∏ –µ—Å—Ç—å max-heap –∏–ª–∏ min-heap.
	‚Ä¢ –î–µ—Ä–µ–≤–æ –≤—Å–µ–≥–¥–∞ –ø–æ–ª–Ω–æ–µ (–≤—Å–µ —É—Ä–æ–≤–Ω–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ).

–ò —Ö—Ä–∞–Ω–∏—Ç—Å—è –æ–Ω–æ –≤ –≤–µ–∫—Ç–æ—Ä–µ (–≤ –ø–∞–º—è—Ç–∏ –Ω–µ –∫–∞–∫ –¥–µ—Ä–µ–≤–æ, –∞ –∫–∞–∫ –º–∞—Å—Å–∏–≤).

‚∏ª

üß± –ü—Ä–∏–º–µ—Ä: Max-Heap

–ü—É—Å—Ç—å –º—ã –¥–µ–ª–∞–µ–º:

	priority_queue<int> pq; // max-heap
	pq.push(10);
	pq.push(20);
	pq.push(15);
	pq.push(30);
	pq.push(5);

üß© –®–∞–≥ 1. push(10)

	‚Ä¢ –ü—É—Å—Ç–æ ‚Üí –≤—Å—Ç–∞–≤–ª—è–µ–º 10 –∫–∞–∫ –∫–æ—Ä–µ–Ω—å

	  10

	üì¶ pq = [10]

‚∏ª

üß© –®–∞–≥ 2. push(20)

	‚Ä¢ –í—Å—Ç–∞–≤–ª—è–µ–º 20 –≤ –∫–æ–Ω–µ—Ü –º–∞—Å—Å–∏–≤–∞
	‚Ä¢ –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å —Ä–æ–¥–∏—Ç–µ–ª–µ–º (10) ‚Üí 20 > 10 ‚áí –º–µ–Ω—è–µ–º –º–µ—Å—Ç–∞–º–∏

	  20
	 /
	10

	üì¶ pq = [20, 10]

	‚úÖ –í—ã—Å–æ—Ç–∞ –¥–µ—Ä–µ–≤–∞ = 1
	üìà –í—Ä–µ–º—è ‚âà log(2) = 1 –æ–ø–µ—Ä–∞—Ü–∏—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

‚∏ª

üß© –®–∞–≥ 3. push(15)

	‚Ä¢ –í—Å—Ç–∞–≤–ª—è–µ–º 15 –≤ –∫–æ–Ω–µ—Ü ‚Üí [20, 10, 15]
	‚Ä¢ –†–æ–¥–∏—Ç–µ–ª—å = 20 ‚Üí 15 < 20 ‚Üí –≤—Å—ë –Ω–æ—Ä–º–∞–ª—å–Ω–æ

	   20
	  /  \
	10   15

	üì¶ pq = [20, 10, 15]

‚∏ª

üß© –®–∞–≥ 4. push(30)

	‚Ä¢ –í—Å—Ç–∞–≤–ª—è–µ–º 30 –≤ –∫–æ–Ω–µ—Ü ‚Üí [20, 10, 15, 30]
	‚Ä¢ –†–æ–¥–∏—Ç–µ–ª—å = 10 ‚Üí 30 > 10 ‚Üí –º–µ–Ω—è–µ–º
	‚Üí –¢–µ–ø–µ—Ä—å 30 –Ω–∞–≤–µ—Ä—Ö—É 20 ‚Üí 30 > 20 ‚Üí —Å–Ω–æ–≤–∞ –º–µ–Ω—è–µ–º

	     30
	    /  \
	   20   15
	  /
	10

	üì¶ pq = [30, 20, 15, 10]

	‚úÖ –ú—ã ‚Äú–≤—Å–ø–ª—ã–≤–∞–ª–∏‚Äù —ç–ª–µ–º–µ–Ω—Ç –≤–≤–µ—Ä—Ö (heapify-up)
	üìà –≠—Ç–æ –∏ –∑–∞–Ω–∏–º–∞–µ—Ç O(log n), –ø–æ—Ç–æ–º—É —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –ø–æ –≤—ã—Å–æ—Ç–µ –¥–µ—Ä–µ–≤–∞.

‚∏ª

üß© –®–∞–≥ 5. push(5)

	‚Ä¢ –í—Å—Ç–∞–≤–ª—è–µ–º –≤ –∫–æ–Ω–µ—Ü
	‚Ä¢ –†–æ–¥–∏—Ç–µ–ª—å = 20 ‚Üí 5 < 20 ‚Üí –Ω–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è–µ–º

	     30
	    /  \
	   20   15
	  / \
	10  5

	üì¶ pq = [30, 20, 15, 10, 5]

‚∏ª

üßÆ –ü–æ—á–µ–º—É O(log n)

–í—ã—Å–æ—Ç–∞ –±–∏–Ω–∞—Ä–Ω–æ–π –∫—É—á–∏ ‚âà log‚ÇÇ(n)
(—Ç–∞–∫ –∫–∞–∫ –¥–µ—Ä–µ–≤–æ –ø–æ—á—Ç–∏ –ø–æ–ª–Ω–æ–µ).

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ (push) —ç–ª–µ–º–µ–Ω—Ç –º–æ–∂–µ—Ç –ø–æ–¥–Ω—è—Ç—å—Å—è –º–∞–∫—Å–∏–º—É–º –¥–æ –∫–æ—Ä–Ω—è.
‚Üí –ó–Ω–∞—á–∏—Ç, –≤ —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ –¥–µ–ª–∞–µ–º log‚ÇÇ(n) —Å—Ä–∞–≤–Ω–µ–Ω–∏–π –∏ –æ–±–º–µ–Ω–æ–≤.

‚∏ª

üîª –û–ø–µ—Ä–∞—Ü–∏—è pop()

–£–¥–∞–ª—è–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç (–∫–æ—Ä–µ–Ω—å).

–ü—Ä–∏–º–µ—Ä:

	     30
	    /  \
	   20   15
	  / \
	10  5

–®–∞–≥–∏:

	1. –£–¥–∞–ª—è–µ–º 30 (–∫–æ—Ä–µ–Ω—å)
	2. –ë–µ—Ä—ë–º –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç (5) –∏ —Å—Ç–∞–≤–∏–º –Ω–∞ –∫–æ—Ä–µ–Ω—å

	     5
	    / \
	   20  15
	  /
	10

	3. ‚Äú–ü—Ä–æ—Å–µ–∏–≤–∞–µ–º –≤–Ω–∏–∑‚Äù (heapify-down):
		‚Ä¢ 5 < 20 ‚Üí –º–µ–Ω—è–µ–º
		‚Ä¢ –ø–æ–ª—É—á–∞–µ–º:

	     20
	    / \
	   5   15
	  /
	10

	üì¶ pq = [20, 10, 15, 5]

–ò —Å–Ω–æ–≤–∞ –æ–ø–µ—Ä–∞—Ü–∏—è ‚Äî –ø–æ –≤—ã—Å–æ—Ç–µ –¥–µ—Ä–µ–≤–∞ ‚Üí O(log n).

‚∏ª

üß≠ top() ‚Äî –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä–µ–Ω—å

	cout << pq.top();

	‚Ä¢ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 30 (–≤ –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ)
	‚Ä¢ –ù–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è–µ—Ç
	‚Ä¢ ‚ùó –†–∞–±–æ—Ç–∞–µ—Ç –∑–∞ O(1), –ø–æ—Ç–æ–º—É —á—Ç–æ –∫–æ—Ä–µ–Ω—å ‚Äî –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞.

–û–ø–µ—Ä–∞—Ü–∏—è	–ß—Ç–æ –¥–µ–ª–∞–µ—Ç	–í—Ä–µ–º—è	–ü–æ—á–µ–º—É
push(x)	–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞	O(log n)	–ü–æ–¥–Ω–∏–º–∞–µ–º –ø–æ –¥–µ—Ä–µ–≤—É
pop()	–£–¥–∞–ª–µ–Ω–∏–µ max/min	O(log n)	–û–ø—É—Å–∫–∞–µ–º –≤–Ω–∏–∑
top()	–î–æ—Å—Ç—É–ø –∫ –≤–µ—Ä—à–∏–Ω–µ	O(1)	–ö–æ—Ä–µ–Ω—å –≤—Å–µ–≥–¥–∞ –∏–∑–≤–µ—Å—Ç–µ–Ω
empty() / size()	–ü—Ä–æ–≤–µ—Ä–∫–∞	O(1)	–ü—Ä–æ—Å—Ç–æ –ø–æ–ª–µ

‚∏ª

üîπ –ü–æ–≤—Ç–æ—Ä–∏–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

–î–ª—è min-heap –ø—Ä–∞–≤–∏–ª–æ:

	–ö–∞–∂–¥—ã–π —Ä–æ–¥–∏—Ç–µ–ª—å ‚â§ —Å–≤–æ–∏—Ö –¥–µ—Ç–µ–π.

üìò –ù–∞—à –ø—Ä–∏–º–µ—Ä:

–ú—ã –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ –æ—á–µ—Ä–µ–¥–∏:

	10, 4, 15, 7.

‚∏ª

–®–∞–≥ 1 ‚Äî –≤—Å—Ç–∞–≤–ª—è–µ–º 10

	10
	‚úÖ –∫–æ—Ä–µ–Ω—å ‚Äî –≤—Å—ë –æ–∫.

‚∏ª

–®–∞–≥ 2 ‚Äî –≤—Å—Ç–∞–≤–ª—è–µ–º 4

	   10
	  /
	 4

–ü—Ä–æ–≤–µ—Ä—è–µ–º:

	‚Ä¢ –†–æ–¥–∏—Ç–µ–ª—å (10) > –†–µ–±—ë–Ω–æ–∫ (4) ‚ùå ‚Üí –º–µ–Ω—è–µ–º –º–µ—Å—Ç–∞–º–∏:

	   4
	  /
	10

	‚úÖ —Ç–µ–ø–µ—Ä—å —Ä–æ–¥–∏—Ç–µ–ª—å ‚â§ —Ä–µ–±—ë–Ω–∫–∞ ‚Üí –≤—Å—ë –æ–∫.

‚∏ª

–®–∞–≥ 3 ‚Äî –≤—Å—Ç–∞–≤–ª—è–µ–º 15

–°–ª–µ–¥—É—é—â–∞—è —Å–≤–æ–±–æ–¥–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è ‚Äî —Å–ø—Ä–∞–≤–∞:

	   4
	  / \
	10  15

	‚Ä¢ –†–æ–¥–∏—Ç–µ–ª—å (4) ‚â§ –æ–±–∞ —Ä–µ–±—ë–Ω–∫–∞ (10 –∏ 15) ‚úÖ
	–Ω–∏—á–µ–≥–æ –º–µ–Ω—è—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.

‚∏ª

–®–∞–≥ 4 ‚Äî –≤—Å—Ç–∞–≤–ª—è–µ–º 7

–í—Å—Ç–∞–≤–ª—è–µ–º —Å–ª–µ–≤–∞ –ø–æ–¥ 10 (–¥–µ—Ä–µ–≤–æ –≤—Å–µ–≥–¥–∞ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ):

	     4
	   /   \
	 10     15
	 /
	7

–¢–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∏–ª–æ:

	‚Ä¢ –†–æ–¥–∏—Ç–µ–ª—å (10) > –†–µ–±—ë–Ω–æ–∫ (7) ‚ùå
	‚Üí –º–µ–Ω—è–µ–º –º–µ—Å—Ç–∞–º–∏:

	     4
	   /   \
	  7     15
	 /
	10

–¢–µ–ø–µ—Ä—å:

	‚Ä¢ –†–æ–¥–∏—Ç–µ–ª—å (4) ‚â§ –¥–µ—Ç–∏ (7, 15) ‚úÖ
	‚Ä¢ –†–æ–¥–∏—Ç–µ–ª—å (7) ‚â§ —Ä–µ–±—ë–Ω–æ–∫ (10) ‚úÖ

	üì¶ –í–æ—Ç –∏—Ç–æ–≥:

	     4
	   /   \
	  7     15
	 /
	10

üîπ –ü–æ—á–µ–º—É 10 –≤–Ω–∏–∑—É, –∞ –Ω–µ 15?

–ü–æ—Ç–æ–º—É —á—Ç–æ –∫—É—á–∞ –Ω–µ —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤—Å—ë –¥–µ—Ä–µ–≤–æ.
–û–Ω–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ª–∏—à—å, —á—Ç–æ:

	‚Ä¢ –†–æ–¥–∏—Ç–µ–ª—å ‚â§ –ø–æ—Ç–æ–º–∫–æ–≤ (–≤ min-heap),
	‚Ä¢ –∏–ª–∏ –†–æ–¥–∏—Ç–µ–ª—å ‚â• –ø–æ—Ç–æ–º–∫–æ–≤ (–≤ max-heap).

‚û° –ü–æ—ç—Ç–æ–º—É 10 –º–æ–∂–µ—Ç –±—ã—Ç—å ‚Äú–Ω–∏–∂–µ‚Äù, —á–µ–º 15,
–µ—Å–ª–∏ –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–∞—Ö —Ç–∞–∫ –ø–æ–ª—É—á–∏–ª–æ—Å—å –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –¥–µ—Ä–µ–≤–∞.
–û–Ω–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∫–∞–∫ BST.

‚∏ª

üìò –ò–Ω—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:

Heap ‚Äî —ç—Ç–æ —á–∞—Å—Ç–∏—á–Ω–æ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ–µ –¥–µ—Ä–µ–≤–æ,
–Ω–µ –ø–æ–ª–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, –∞ —Ç–æ–ª—å–∫–æ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ ‚Äú—Ä–æ–¥–∏—Ç–µ–ª—å ‚â§ –¥–µ—Ç–∏‚Äù.
